So, now, let's talk about

Amazon S3 pre-signed URLs.

So, they are URLs you can generate using the S3 console,

the CLI or the SDK, and the URL has an expiration.

So if you use the console, it's up to 12 hours

and if use the CLI, you can go up to 168 hours.

So, the idea is that when you generate a pre-signed URL,

the user that will get that URL will inherit the permissions

of the user that generated that URL for a GET or a PUT.

So what's the use case?

Well, say you have an S3 bucket and it's private,

and you want to give someone outside of AWS

access to one file.

You don't want to make that file public.

You don't want to make that file in any way

that would break your security, right?

So, you as your bucket owner or the user,

you're going to generate a pre-signed URL out of this file,

and the S3 Bucket will give you a URL.

That URL is going to be pre-signed,

meaning that it will carry over your credentials,

in terms of authorization to access that file.

Then you will send this URL to the target user

that you want to give access to the file

for a limited amount of time.

And then that user, sorry,

will be using the URL to access the file

on the S3 Buckets.

And then you will get a file back from the S3 buckets,

and the user has being able to download it, for example.

So, pre-signed URL are a very, very common use case

when it comes to temporary access to one specific file

for download or even for upload.

So, the examples are to only allow logged-in users

to download a premium video of your S3 bucket

or to allow an ever-changing list of users

to download files by generating URLs dynamically,

or to allow, temporarily, a user to upload a file

to a precise location in your S3 bucket,

while maintaining your S3 bucket private.

So that's it for this lecture,

and I will see you in the next lecture for some hands on.

Okay, so let's demonstrate S3 pre-signed URL.

And I'm just going to take

one bucket that I know is not public.

And so I click on my coffee.jpg for example,

you can take whatever image you want.

And so, let's have a look.

So, we know that this image is private

because if I go and click on my object URL right here,

I get an access denied.

So, this public URL right here

is not working because my bucket is not public.

But, I know that if I clicked on open right here,

it's going to open a new tab

and my image is still showing, why?

Well, because the beginning is exactly the same as before,

but then in here all the way,

you have what's called a pre-signed URL.

And so this URL was pre-signed with my credentials

which allowed me to access this image.

And so the idea is how do we generate

pre-signed URLs for everyone?

So two options, number one, you can use a CLI

and the other option is now to do it

from the console itself.

So, if you click on object action,

you can click on share a pre-signed URL.

And now, it says that anyone can access the object

with this URL until it expires,

even if the bucket and object are private.

So we're saying, "Hey, I want to have this image

and I want to allow minutes or hours."

So I will say, "Hey, it's going to be valid

for the next five minutes."

And then click on create pre-signed URL.

Now it has been created and I can share this URL with anyone

and they will be able to enter it, press Enter

and voila, get access to your image.

So, that's very handy if you want to share access

to some files in your S3 bucket very quickly

and then make sure that the URL expires

for maximum security.

Okay, that's it.

I hope you liked it and I will see you in the next lecture.


So now let's talk about the differences

of EBS volumes and EFS file systems.

So the EBS volumes, they're attached

to one instance at a time,

except in the edge case of using the multi-attach feature

of the io1 and io2 types of volume,

but that is for very specific use cases.

EBS volumes are also locked at the AZ level.

So here is an example.

We have one EC2 in AZ1,

and we have one EBS volume attached to it.

And it cannot be attached to an EC2 instance in AZ2.

For the gp2 type of volume,

the IO will increase if the disk size increases,

and for the GP3 and io1 type of volumes,

you can increase the IO independently from your disk size.

To migrate an EBS volume across AZ,

we need to take a snapshot,

so it will go into the EBS snapshots

and then we can restore the snapshot into another AZ.

This is how we move from one AZ to the next.

Now, the EBS volumes backups, they will use IO,

and so you shouldn't run them while your application

is handling a lot of traffic,

because that may impact the performance.

For your EC2 instances,

the route EBS volumes of your instances

will get terminated by default

if the EC2 instance gets terminated,

but you can disable that behavior.

Now for EFS, it's a bit different.

So, it's a network file system,

and the goal is really to attach it

to hundreds of instances across availability zone.

So we really see the distinction here.

So with one EFS file system,

we can have different mount targets in different AZs

and then multiple instances can share

that one file system together.

So it's very helpful, for example, when you have WordPress,

and it's only for Linux instances

because it is using the POSIX system.

The EFS has a higher price point than EBS,

but you can leverage the EFS-IA feature for cost savings.

So, hopefully you understand now the difference

between EFS and EBS, and for the Instant Store,

well, it is physically attached to the EC2 instance.

And so, therefore, if you lose your EC2 instance,

you will lose the storage as well.

All right, that's it.

I hope you liked it,

and I will see you in the next lecture.

Okay, so let's just clean up

this entire section.

So for this I'm gonna go to Action on my file system

and delete it, and for this I have to enter

the file system ID, so I'll just copy and paste this.

And so okay, we're gonna get rid of our file system.

Perfect!

Now into our EC2 instances, make sure to terminate

any running EC2 instance, so that's good.

Then in terms of volumes, we're going to have to

clear up volumes as well, so any volumes that is available

you have to terminate it, so I'll right-click

and delete all these volumes.

Okay.

Now for snapshots, you've made a few snapshots,

so let's just go back and delete every snapshot you have.

Just so that you can get rid

and not pay for any storage for snapshots.

Okay.

And then finally, security groups.

If you want to, because it's going to get a lot of

security groups right here,

you can basically delete so many of these security groups

except the one for default, so just don't delete that one.

So you can go ahead and delete these security groups.

And they will only be deleted once you have, basically,

deleted all your EC2 instances associated with those.

So maybe these won't be deleted right away

but you can just keep on trying until it works.

So I'll delete this security group now.

Yes this one works.

I'll delete the load balancer for the security group.

Yes that worked, and this EC2 for EFS,

it's still used by my instances

so I have to wait for my instances

to be shutting down properly before I can go ahead

and delete that last security group.

So I'll have to wait a little bit, but that's it.

Once you've cleared up everything

you're ready to go for the next section.

